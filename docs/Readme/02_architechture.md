# ğŸ—ï¸ 02 â€” ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

Whispin ã¯è²¬å‹™ã‚’åˆ†é›¢ã—ãŸãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

```text
UIå±¤ï¼ˆScreens / Widgetsï¼‰
        â†“ Provider
çŠ¶æ…‹ç®¡ç†å±¤ï¼ˆProvidersï¼‰
        â†“ Service
ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ï¼ˆServicesï¼‰
        â†“ Repository
ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆRepositoriesï¼‰
        â†“ Firebase SDK
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆCloud Firestore / Firebase Storageï¼‰
```

### å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ä¸»ãªè²¬å‹™ |
|---|---|
| **UIå±¤** | ç”»é¢è¡¨ç¤ºã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å—ä»˜ã€è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ |
| **Providerå±¤** | ç”»é¢çŠ¶æ…‹ã®ä¿æŒã€UI ã¸ã®é€šçŸ¥ã€Service å‘¼ã³å‡ºã— |
| **Serviceå±¤** | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè¡Œã€å…¥åŠ›å€¤æ¤œè¨¼ã€è¤‡æ•° Repository ã®èª¿åœ |
| **Repositoryå±¤** | Firebase ã¨ã® I/O ã‚’æŠ½è±¡åŒ–ã— CRUD ã‚’æä¾› |
| **Modelå±¤** | Firestore ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã®å¤‰æ›ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿è¡¨ç¾ |
| **Utils / Extensions** | å…±é€šå‡¦ç†ã€æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚¢ãƒ—ãƒªæ¨ªæ–­ã®è£œåŠ©æ©Ÿèƒ½ |

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆç¾è¡Œå®Ÿè£…ãƒ™ãƒ¼ã‚¹ï¼‰

> ä¸»è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿ã‚’æŠœç²‹ã—ã¦ã„ã¾ã™ï¼ˆ2026-02 æ™‚ç‚¹ï¼‰ã€‚

```text
lib/
â”œâ”€â”€ config/                 # Firebase åˆæœŸåŒ–ãƒ»ç’°å¢ƒè¨­å®šãƒ»ãƒ†ãƒ¼ãƒè¨­å®š
â”œâ”€â”€ constants/              # ãƒ«ãƒ¼ãƒˆåã€è‰²ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­å®šãªã©ã®å®šæ•°
â”œâ”€â”€ extensions/             # BuildContext / List / String / DateTime ã®æ‹¡å¼µ
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user/               # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã®ãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ admin/              # ç®¡ç†è€…æ©Ÿèƒ½ã®ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ admin_user/         # ç®¡ç†è€…-ãƒ¦ãƒ¼ã‚¶ãƒ¼å…±é€šç³»ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ providers/              # UI çŠ¶æ…‹ç®¡ç†ï¼ˆchat, user, theme, admin ãªã©ï¼‰
â”œâ”€â”€ repositories/           # Firestore ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”œâ”€â”€ routes/                 # ç”»é¢é·ç§»ãƒ»èªå¯ã‚¬ãƒ¼ãƒ‰
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ user/               # ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ç”»é¢
â”‚   â””â”€â”€ admin/              # ç®¡ç†è€…å‘ã‘ç”»é¢
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ user/               # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â””â”€â”€ admin/              # ç®¡ç†è€…æ©Ÿèƒ½ã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ utils/                  # ãƒ­ã‚¬ãƒ¼ã€ä¾‹å¤–å®šç¾©ãªã©
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ common/             # å…±é€š UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ user/               # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ç”¨ UI éƒ¨å“
â”‚   â””â”€â”€ admin/              # ç®¡ç†è€…æ©Ÿèƒ½ç”¨ UI éƒ¨å“
â”œâ”€â”€ firebase_options.dart   # FlutterFire CLI ç”Ÿæˆã® Firebase è¨­å®š
â””â”€â”€ main.dart               # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

---

## ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ`pubspec.yaml`ï¼‰

### Firebase
- `firebase_core: 4.4.0`
- `firebase_auth: 6.1.2`
- `cloud_firestore: 6.1.0`
- `firebase_storage: 13.0.6`
- `firebase_storage_web: 3.11.2`
- `firebase_messaging: 16.0.4`
- `flutter_local_notifications: 18.0.1`

### çŠ¶æ…‹ç®¡ç† / UI
- `provider: 6.1.2`
- `google_fonts: 6.3.2`

### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- `http: 1.6.0`
- `crypto: 3.0.3`
- `shared_preferences: 2.2.2`
- `intl: 0.19.0`
- `path_provider: 2.1.5`
- `flutter_dotenv: 5.1.0`
- `image_picker: 1.2.1`
- `image_cropper: 8.0.2`

---

## è¨­è¨ˆä¸Šã®ãƒã‚¤ãƒ³ãƒˆ

- **æ©Ÿèƒ½åˆ†å‰²**: `services/` ã¨ `screens/` ã¯ `user` / `admin` ã«åˆ†å‰²ã—ã€è²¬å‹™ã‚’æ˜ç¢ºåŒ–ã€‚
- **ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹çµ±ä¸€**: Firestore ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ Repository çµŒç”±ã«é›†ç´„ã—ã€UI å±¤ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ãªã„ã€‚
- **çŠ¶æ…‹æ›´æ–°ã®ä¸€å…ƒåŒ–**: Provider ã§çŠ¶æ…‹å¤‰æ›´ã‚’ç®¡ç†ã—ã€å†æç”»ãƒˆãƒªã‚¬ãƒ¼ã‚’æ˜ç¢ºåŒ–ã€‚
- **æ‹¡å¼µæ€§**: `storage_service.dart` ã®ã‚ˆã†ãªæŠ½è±¡ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å°å…¥ã—ã€å®Ÿè£…å·®ã—æ›¿ãˆã«å¯¾å¿œã€‚
